{"version":3,"sources":["all.js"],"names":["inputClick","document","querySelector","inputData","querySelectorAll","selectLocation","displayLocation","showdataLen","inputfrom","sideSeedata","inputinfoData","getUserInfo","data","area","description","group","id","imgUrl","name","price","rate","counter","forEach","item","index","value","alert","focus","Number","push","render","reset","showDataNum","textContent","length","showData","content","innerHTML","displaySelectionLocation","e","target","getdata","axios","get","then","response","error","console","log","pieChart","areaString","indexOf","areaObj","areaData","chart","c3","generate","bindto","columns","type","addEventListener"],"mappings":"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","file":"all.js","sourcesContent":["\n//DOM\nconst inputClick = document.querySelector('.inputClick');\nconst inputData = document.querySelectorAll('[data-input]');\nconst selectLocation = document.querySelector('.selectLocation');\nconst displayLocation = document.querySelector('.displayLocation');\nconst showdataLen = document.querySelector('.dataLen');\nconst inputfrom = document.querySelector('.inputfrom');\n//全域變數\nlet sideSeedata = [];\nlet inputinfoData = [];\n\n\n//功能\n//取得資料後push進入inputinfoData\nfunction getUserInfo() {\n  let data = {\n    area: \"\",\n    description: \"\",\n    group: 0,\n    id: 0,\n    imgUrl: \"\",\n    name: \"\",\n    price: 0,\n    rate: 0,\n  }\n  let counter = 0;\n  inputData.forEach(function (item, index) {\n    switch (index) {\n      case 0:\n        if (item.value === '') {\n          alert(`套票名稱不可空白`);\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        else {\n          data.name = item.value;\n        }\n\n        break\n      case 1:\n        if (item.value === '') {\n          alert(`套票圖片不可空白`);\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        else {\n          data.imgUrl = item.value;\n        }\n\n        break\n      case 2:\n        if (item.value === '') {\n          alert(`套票地區不可空白`);\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        else {\n          data.area = item.value;\n        }\n\n        break\n      case 3:\n        if (item.value === '') {\n          alert(`套票價格不可空白`);\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        else {\n          data.price = Number(item.value);\n        }\n        break\n      case 4:\n        if (item.value === '') {\n          alert(`套票組不可空白`)\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        else {\n          data.group = Number(item.value);\n        }\n\n        break\n      case 5:\n        if (item.value === '') {\n          alert(`套票星級不可空白`);\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        else {\n          data.rate = item.value\n        }\n        break\n      case 6:\n        if (item.value === '') {\n          alert(`套票描述不可空白`);\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        else {\n          data.description = item.value;\n        }\n        break\n    }\n\n  });\n\n  if (counter === 0) {\n    inputinfoData.push(data);\n    inputinfoData.forEach((item) => {\n      sideSeedata.push(item)\n    });\n    render(sideSeedata)\n    //重製表單\n    inputfrom.reset();\n  }\n  \n}\nfunction showDataNum(data) {\n  showdataLen.textContent = `本次搜尋共${data.length}筆資料`\n}\nfunction showData(data) {\n  let content = '';\n  data.forEach(function (item) {\n    content += `<li class=\"card w1-100 justify-content-between w1-lg-45 w1-xl-28 bg-white\">\n    <div class=\"form_group\">\n    <div class=\"cradHeader h-180\">\n      <img src=\"${item.imgUrl}\" alt=\"picture\" class=\"border-radius-5\">\n    </div>\n    <div class=\"cardbody\">\n      <div class=\"text-primary pt-20 fs-24\">\n        <h2>${item.name}</h2>\n      </div>\n      <p class=\"text-five pt-16 border-top-primary-2 \">\n      ${item.description}\n      </p>\n    </div>\n    </div>\n    <div class=\"cardfooter d-flex align-items-center  text-primary\">\n      <p class=\" fs-16 \">剩下最後${item.group}組</p>\n      <p class=\"fs-16 ms-30\">NTD</p>\n      <sapn class=\"fs-32\">$${item.price}</sapn>\n    </div>\n    <div\n      class=\"w-84 h-44 border-right-radius-5 bg-primary text-white position-absoult top--10px d-flex align-items-center justify-content-center\">\n      <span class=\"fs-20\">${item.area}</span>\n    </div>\n    <div\n      class=\"w-40 h-32 border-right-radius-5 bg-secondary text-white position-absoult top-164px d-flex align-items-center justify-content-center\">\n      <span class=\"fs-16\">${item.rate}</span>\n    </div>\n  </li>`\n  });\n  displayLocation.innerHTML = content;\n}\n\nfunction displaySelectionLocation(e) {\n\n  let showData = [];\n  sideSeedata.forEach((item) => {\n    if (e.target.value === item.area) {\n      showData.push(item)\n    }\n    else if (e.target.value === '全部地區') {\n      showData.push(item)\n    }\n  })\n  render(showData)\n}\n//撈資料\nfunction getdata() {\n\n  axios.get('https://raw.githubusercontent.com/hexschool/js-training/main/travelApi.json')\n    .then(function (response) {\n      sideSeedata = response.data.data;\n\n      \n      render(sideSeedata);\n\n      //data=response.data[0].data;\n\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n\n\nfunction render(data) {\n  // compareData();\n  showDataNum(data);\n  showData(data);\n  pieChart()\n}\nfunction pieChart(){\n  //先取得area所有資料\n  let areaString = [];\n  sideSeedata.forEach((item)=>{\n    if(areaString.indexOf(item.area)===-1){\n      areaString.push(item.area)\n    }\n  })\n  //把area轉為屬性\n  const areaObj ={};\n  areaString.forEach((item)=>{\n    areaObj[item]=0\n  })\n  //計算資料的area數量並存放到areaObj\n  sideSeedata.forEach((item)=>{\n    areaObj[item.area]++\n  })\n  //整理成畫圖需要的格式\n  let areaData = [];\n  areaString.forEach((item)=>{\n    areaData.push([item,areaObj[item]])\n  })\n\n  //畫成圓餅圖\n  const chart = c3.generate({\n    bindto:'#pieChart',\n    data: {\n        // iris data from R\n        columns: areaData,\n        type : 'pie',\n    }\n});\n}\n//直接執行\ngetdata();\n\n//監聽\ninputClick.addEventListener('click', getUserInfo, false);\nselectLocation.addEventListener('change', displaySelectionLocation, false);"]}