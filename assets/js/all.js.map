{"version":3,"sources":["all.js"],"names":["search","document","querySelector","inputData","querySelectorAll","selectLocation","displayLocation","showdataLen","sideSeedata","inputInfo","ticketName","ticketPictureUrl","ticketLocation","ticketPrice","ticketSetNum","ticketRank","ticketDiscript","storageData","getUserInfo","counter","forEach","item","index","value","alert","focus","parseInt","reture","render","compareData","name","indexOf","push","imgUrl","price","area","group","rate","description","showDataLen","textContent","length","showData","content","innerHTML","resetInputInfo","displaySelectionLocation","e","target","getdata","axios","get","then","response","data","error","console","log","work","addEventListener"],"mappings":"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","file":"all.js","sourcesContent":["\n//DOM\nconst search = document.querySelector('.search');\nconst inputData = document.querySelectorAll('[data-input]');\nconst selectLocation = document.querySelector('.selectLocation');\nconst displayLocation = document.querySelector('.displayLocation');\nconst showdataLen = document.querySelector('.dataLen');\n\n//全域變數\nlet sideSeedata=[];\nlet inputInfo = {\n  ticketName: \"can' be empty\",\n  ticketPictureUrl: \"can' be empty\",\n  ticketLocation: \"can' be empty\",\n  ticketPrice: 0,\n  ticketSetNum: 0,\n  ticketRank: 0,\n  ticketDiscript: \"can' be empty\"\n}\nlet storageData = [];\n//功能\nfunction getUserInfo() {\n  let counter = 0;\n  inputData.forEach(function (item, index) {\n    switch (index) {\n      case 0:\n        if (item.value === '') {\n          alert(`套票名稱不可空白`);\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        inputInfo.ticketName = item.value;\n        break\n      case 1:\n        inputInfo.ticketPictureUrl = item.value;\n        break\n      case 2:\n        inputInfo.ticketLocation = item.value;\n        break\n      case 3:\n        if (item.value === '') {\n          alert(`套票價格不可空白`);\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        inputInfo.ticketPrice = parseInt(item.value);\n        break\n      case 4:\n        if (item.value === '') {\n          alert(`套票組不可空白`)\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        inputInfo.ticketSetNum = parseInt(item.value);\n        break\n      case 5:\n        if (item.value === '') {\n          alert(`套票星級不可空白`);\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        inputInfo.ticketRank = parseInt(item.value);\n        break\n      case 6:\n        if (item.value === '') {\n          alert(`套票描述不可空白`);\n          inputData[index].focus();\n          counter++;\n          return\n        }\n        inputInfo.ticketDiscript = item.value;\n        break\n    }\n\n  });\n  if (counter===0){reture}\n  else{\n    render()\n  }\n  \n}\n//compare Data\nfunction compareData() {\n\n  sideSeedata.forEach(function (item) {\n    if (item.name.indexOf(inputInfo.ticketName) !== -1) {\n      storageData.push(item);\n    }\n    else if (item.imgUrl.indexOf(inputInfo.ticketPictureUrl) !== -1) {\n      storageData.push(item);\n    }\n    else if (item.price === inputInfo.ticketPrice) {\n      storageData.push(item);\n    }\n    else if (item.area === inputInfo.ticketLocation || inputInfo.ticketLocation === '全部地區') {\n      storageData.push(item);\n    }\n    else if (item.group === inputInfo.ticketSetNum) {\n      storageData.push(item);\n    }\n    else if (item.rate === inputInfo.ticketRank) {\n      storageData.push(item);\n    }\n    else if (item.description.indexOf(inputInfo.ticketDiscript) !== -1) {\n      storageData.push(item);\n    }\n  })\n  //console.log(storageData);\n}\nfunction showDataLen() {\n  showdataLen.textContent = `本次搜尋共${storageData.length}筆資料`\n}\nfunction showData() {\n  let content = '';\n  storageData.forEach(function (item) {\n    content += `<li class=\"card w1-100 justify-content-between w1-lg-45 w1-xl-28 bg-white\">\n    <div class=\"form_group\">\n    <div class=\"cradHeader h-180\">\n      <img src=\"${item.imgUrl}\" alt=\"picture\" class=\"border-radius-5\">\n    </div>\n    <div class=\"cardbody\">\n      <div class=\"text-primary pt-20 fs-24\">\n        <h2>${item.name}</h2>\n      </div>\n      <p class=\"text-five pt-16 border-top-primary-2 \">\n      ${item.description}\n      </p>\n    </div>\n    </div>\n    <div class=\"cardfooter d-flex align-items-center  text-primary\">\n      <p class=\" fs-16 \">剩下最後${item.group}組</p>\n      <p class=\"fs-16 ms-30\">NTD</p>\n      <sapn class=\"fs-32\">$${item.price}</sapn>\n    </div>\n    <div\n      class=\"w-84 h-44 border-right-radius-5 bg-primary text-white position-absoult top--10px d-flex align-items-center justify-content-center\">\n      <span class=\"fs-20\">${item.area}</span>\n    </div>\n    <div\n      class=\"w-40 h-32 border-right-radius-5 bg-secondary text-white position-absoult top-164px d-flex align-items-center justify-content-center\">\n      <span class=\"fs-16\">${item.rate}</span>\n    </div>\n  </li>`\n  });\n  displayLocation.innerHTML = content;\n}\nfunction resetInputInfo() {\n  inputInfo.ticketName = \"can' be empty\";\n  inputInfo.ticketPictureUrl = \"can' be empty\";\n  inputInfo.ticketLocation = \"can' be empty\";\n  inputInfo.ticketPrice = 0;\n  inputInfo.ticketSetNum = 0;\n  inputInfo.ticketRank = 0;\n  inputInfo.ticketDiscript = \"can' be empty\";\n  storageData = [];\n}\nfunction displaySelectionLocation(e) {\n  resetInputInfo()\n\n  inputInfo.ticketLocation = e.target.value;\n  render()\n}\n//撈資料\nfunction getdata(){\n  axios.get('https://raw.githubusercontent.com/hexschool/js-training/main/travelApi.json')\n  .then(function (response) {\n    sideSeedata=response.data.data;\n    getUserInfo();\n    //data=response.data[0].data;\n\n  })\n  .catch(function (error) {\n    console.log(error);\n  });  \n}\n\n\nfunction render() {\n  compareData();\n  showDataLen();\n  showData();\n  resetInputInfo();\n}\nfunction work() {\n  getdata();\n  \n}\n\n//監聽\nsearch.addEventListener('click', work, false)\nselectLocation.addEventListener('change', displaySelectionLocation, false)"]}